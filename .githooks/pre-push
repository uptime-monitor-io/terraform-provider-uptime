#!/usr/bin/env bash

# Git pre-push hook for Terraform Provider
# Runs validation before allowing push to remote

# Get the directory of this script
SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
PROJECT_ROOT="$( cd "$SCRIPT_DIR/.." && pwd )"

echo "ðŸš€ Running pre-push validation..."
echo ""

# Run the validation script
if "$PROJECT_ROOT/scripts/validate.sh"; then
    exit 0
else
    echo ""
    echo "Push aborted due to validation failures."
    echo "To bypass this check (not recommended), use: git push --no-verify"
    exit 1
fi